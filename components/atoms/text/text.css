/* components/atoms/text/text.css */

/**
 * Text Atom Component
 *
 * Flexible text component for paragraphs, spans, and inline elements.
 * Supports multiple sizes, weights, colors, alignments, and special variants
 * like lead paragraphs and inline code styling.
 *
 * Component-scoped naming convention (NOT BEM):
 * - Base: .text
 * - Variants: .text-xs, .text-bold, .text-primary, .text-center
 *
 * Pure CSS only - no preprocessors.
 * Uses design tokens from components/_system/tokens.css
 */

@layer components {
  /* ============================================
     Base Component Styles
     ============================================ */
  .text {
    /* Typography defaults - use CSS variables for flexible overrides */
    --text-size: var(--font-size-base);
    --text-weight: var(--font-weight-normal);
    --text-line-height: var(--line-height-normal);
    --text-color: var(--color-text);

    /* Apply variables */
    font-family: var(--font-sans);
    font-size: var(--text-size);
    font-weight: var(--text-weight);
    line-height: var(--text-line-height);
    color: var(--text-color);

    /* Reset margins */
    margin: 0;
  }

  /* ============================================
     Size Variants
     Use CSS variables for flexible sizing
     ============================================ */
  .text-xs {
    --text-size: var(--font-size-xs);
  }

  .text-sm {
    --text-size: var(--font-size-sm);
  }

  .text-base {
    --text-size: var(--font-size-base);
  }

  .text-lg {
    --text-size: var(--font-size-lg);
  }

  .text-xl {
    --text-size: var(--font-size-xl);
  }

  .text-2xl {
    --text-size: var(--font-size-2xl);
  }

  /* ============================================
     Weight Variants
     ============================================ */
  .text-light {
    --text-weight: var(--font-weight-light);
  }

  .text-normal {
    --text-weight: var(--font-weight-normal);
  }

  .text-medium {
    --text-weight: var(--font-weight-medium);
  }

  .text-semibold {
    --text-weight: var(--font-weight-semibold);
  }

  .text-bold {
    --text-weight: var(--font-weight-bold);
  }

  /* ============================================
     Color Variants
     Semantic colors for different contexts
     ============================================ */
  .text-default {
    --text-color: var(--color-text);
  }

  .text-muted {
    --text-color: var(--color-text-muted);
  }

  .text-primary {
    --text-color: var(--color-primary-600);
  }

  .text-secondary {
    --text-color: var(--color-secondary-600);
  }

  .text-error {
    --text-color: var(--color-error);
  }

  .text-success {
    --text-color: var(--color-success);
  }

  /* ============================================
     Alignment Variants
     ============================================ */
  .text-left {
    text-align: left;
  }

  .text-center {
    text-align: center;
  }

  .text-right {
    text-align: right;
  }

  .text-justify {
    text-align: justify;
  }

  /* ============================================
     Line Height Variants
     For different reading contexts
     ============================================ */
  .text-tight {
    --text-line-height: var(--line-height-tight);
  }

  .text-snug {
    --text-line-height: var(--line-height-snug);
  }

  .text-relaxed {
    --text-line-height: var(--line-height-relaxed);
  }

  .text-loose {
    --text-line-height: var(--line-height-loose);
  }

  /* ============================================
     Special Variants
     Marketing-focused enhancements
     ============================================ */

  /* Lead paragraph - larger opening text */
  .text-lead {
    --text-size: var(--font-size-lg);
    --text-line-height: var(--line-height-relaxed);
    --text-weight: var(--font-weight-normal);
    margin-block-end: var(--spacing-lg);
  }

  /* Readability max-width constraint */
  .text-readable {
    max-inline-size: 65ch; /* 60-75 characters optimal for readability */
  }

  /* Inline code styling */
  .text code,
  .text-code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    padding: 0.125em 0.375em;
    background-color: var(--color-gray-100);
    border-radius: var(--border-radius-sm);
    border: var(--border-width-thin) solid var(--color-gray-200);
  }

  /* Strong emphasis */
  .text strong,
  .text-emphasis {
    --text-weight: var(--font-weight-semibold);
  }

  /* Subtle emphasis */
  .text-subtle {
    --text-color: var(--color-text-muted);
    font-style: italic;
  }

  /* Truncate text with ellipsis */
  .text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* ============================================
     Dark Mode
     Semantic tokens handle most cases automatically
     ============================================ */
  @media (prefers-color-scheme: dark) {
    .text {
      /* Colors automatically adapt via semantic tokens */
      /* Only override if component-specific adjustments needed */
    }

    /* Dark mode code blocks */
    .text code,
    .text-code {
      background-color: var(--color-gray-800);
      border-color: var(--color-gray-700);
    }
  }

  /* Manual dark mode override */
  [data-theme="dark"] .text code,
  [data-theme="dark"] .text-code {
    background-color: var(--color-gray-800);
    border-color: var(--color-gray-700);
  }

  /* ============================================
     Responsive Design (mobile-first)
     ============================================ */

  /* Tablet (768px+) - slightly increase base size for comfort */
  @media (min-width: 48em) {
    .text-lead {
      --text-size: var(--font-size-xl);
    }
  }

  /* Desktop (1440px+) */
  @media (min-width: 90em) {
    .text-lead {
      --text-size: var(--font-size-2xl);
    }
  }

  /* ============================================
     Accessibility
     ============================================ */

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .text code,
    .text-code {
      border-width: var(--border-width-medium);
    }
  }
}
