/* components/atoms/heading/heading.css */

/**
 * Heading Component Styles
 *
 * Semantic heading component (h1-h6) with flexible sizing, alignment, and styling options.
 * Supports ratio-based responsive sizing with clamp(), size overrides, marketing variants.
 *
 * Component-scoped naming convention (NOT BEM):
 * - Base: .heading
 * - Level modifiers: .heading-h1, .heading-h2, etc.
 * - Size overrides: .heading-size-xl, .heading-size-2xl, etc.
 * - Variants: .heading-primary, .heading-center, .heading-bold
 * - Marketing: .heading-gradient, .heading-eyebrow-text
 *
 * Pure CSS only - no preprocessors.
 * Uses design tokens from components/_system/tokens.css
 */

@layer components {
  /* ============================================
     Base Heading Styles
     ============================================ */
  .heading {
    /* Reset */
    margin: 0;
    padding: 0;

    /* Typography defaults */
    font-family: var(--font-sans);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    color: var(--color-text);

    /* Text rendering optimization */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* Text balancing for multi-line headlines */
    text-wrap: balance;
  }

  /* ============================================
     Semantic Heading Levels (h1-h6)
     Responsive sizing using clamp() for fluid typography
     ============================================ */

  /* H1: Page title, hero headline */
  .heading-h1 {
    font-size: clamp(2rem, 4vw + 1rem, 3.157rem);
    /* Mobile: 32px → Desktop: 51px (~3xl) */
    line-height: var(--line-height-tight);
    font-weight: var(--font-weight-bold);
  }

  /* H2: Section heading, major subsections */
  .heading-h2 {
    font-size: clamp(1.5rem, 3vw + 0.75rem, 2.369rem);
    /* Mobile: 24px → Desktop: 38px (~2xl) */
    line-height: var(--line-height-tight);
    font-weight: var(--font-weight-bold);
  }

  /* H3: Subsection heading */
  .heading-h3 {
    font-size: clamp(1.25rem, 2vw + 0.5rem, 1.777rem);
    /* Mobile: 20px → Desktop: 28px (~xl) */
    line-height: var(--line-height-snug);
    font-weight: var(--font-weight-bold);
  }

  /* H4: Minor heading */
  .heading-h4 {
    font-size: clamp(1.125rem, 1.5vw + 0.375rem, 1.333rem);
    /* Mobile: 18px → Desktop: 21px (~lg) */
    line-height: var(--line-height-snug);
    font-weight: var(--font-weight-semibold);
  }

  /* H5: Small heading */
  .heading-h5 {
    font-size: clamp(1rem, 1vw + 0.25rem, 1.125rem);
    /* Mobile: 16px → Desktop: 18px (base → slightly larger) */
    line-height: var(--line-height-normal);
    font-weight: var(--font-weight-semibold);
  }

  /* H6: Smallest heading */
  .heading-h6 {
    font-size: clamp(0.875rem, 0.75vw + 0.25rem, 1rem);
    /* Mobile: 14px → Desktop: 16px (sm → base) */
    line-height: var(--line-height-normal);
    font-weight: var(--font-weight-semibold);
  }

  /* ============================================
     Size Override Classes
     Decouple visual size from semantic level
     ============================================ */

  /* Example: <h2 class="heading heading-h2 heading-size-5xl"> */
  .heading-size-xs { font-size: var(--font-size-xs); }
  .heading-size-sm { font-size: var(--font-size-sm); }
  .heading-size-base { font-size: var(--font-size-base); }
  .heading-size-lg { font-size: var(--font-size-lg); }
  .heading-size-xl { font-size: var(--font-size-xl); }
  .heading-size-2xl { font-size: var(--font-size-2xl); }
  .heading-size-3xl { font-size: var(--font-size-3xl); }
  .heading-size-4xl { font-size: var(--font-size-4xl); }
  .heading-size-5xl { font-size: var(--font-size-5xl); }

  /* ============================================
     Alignment Variants
     ============================================ */
  .heading-left { text-align: left; }
  .heading-center { text-align: center; }
  .heading-right { text-align: right; }

  /* ============================================
     Font Weight Variants
     ============================================ */
  .heading-weight-normal { font-weight: var(--font-weight-normal); }
  .heading-weight-medium { font-weight: var(--font-weight-medium); }
  .heading-weight-semibold { font-weight: var(--font-weight-semibold); }
  .heading-weight-bold { font-weight: var(--font-weight-bold); }

  /* ============================================
     Color Variants
     ============================================ */
  .heading-primary { color: var(--color-primary-600); }
  .heading-secondary { color: var(--color-secondary-600); }
  .heading-muted { color: var(--color-text-muted); }

  /* ============================================
     Marketing Enhancements
     ============================================ */

  /* Eyebrow Text: Small label above heading */
  .heading-eyebrow {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--color-text-muted);
    margin-block-end: var(--spacing-xs);
  }

  /* Gradient Text Fill: Hero headline impact */
  .heading-gradient {
    background: linear-gradient(
      135deg,
      var(--color-primary-600) 0%,
      var(--color-secondary-600) 100%
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
  }

  /* Highlight Span: Inline emphasis with background */
  .heading-highlight {
    background: var(--color-primary-100);
    color: var(--color-primary-900);
    padding-inline: 0.2em;
    border-radius: var(--border-radius-sm);
    box-decoration-break: clone;
    -webkit-box-decoration-break: clone;
  }

  /* ============================================
     Container Wrapper for Complex Layouts
     ============================================ */
  .heading-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
  }

  /* ============================================
     Dark Mode
     ============================================ */
  @media (prefers-color-scheme: dark) {
    .heading {
      color: var(--color-text);
    }

    .heading-primary {
      color: var(--color-primary-400);
    }

    .heading-secondary {
      color: var(--color-secondary-400);
    }

    .heading-muted {
      color: var(--color-text-muted);
    }

    .heading-eyebrow {
      color: var(--color-text-muted);
    }

    .heading-highlight {
      background: var(--color-primary-900);
      color: var(--color-primary-100);
    }
  }

  /* Manual dark mode override */
  [data-theme="dark"] .heading {
    color: var(--color-text);
  }

  [data-theme="dark"] .heading-primary {
    color: var(--color-primary-400);
  }

  [data-theme="dark"] .heading-secondary {
    color: var(--color-secondary-400);
  }

  [data-theme="dark"] .heading-muted {
    color: var(--color-text-muted);
  }

  [data-theme="dark"] .heading-eyebrow {
    color: var(--color-text-muted);
  }

  [data-theme="dark"] .heading-highlight {
    background: var(--color-primary-900);
    color: var(--color-primary-100);
  }

  /* ============================================
     Accessibility
     ============================================ */

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .heading {
      /* No transitions on headings by default, but preserve for future use */
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .heading {
      font-weight: var(--font-weight-bold);
    }

    .heading-gradient {
      /* Disable gradient in high contrast mode */
      background: none;
      -webkit-text-fill-color: inherit;
      color: var(--color-text);
    }
  }

  /* ============================================
     Responsive Design (mobile-first)
     ============================================ */

  /* Tablet (768px+): Slightly larger sizes */
  @media (min-width: 48em) {
    .heading-h1 {
      line-height: 1.1;
    }

    .heading-h2 {
      line-height: 1.15;
    }
  }

  /* Desktop (1440px+): Maximum sizes and line height adjustments */
  @media (min-width: 90em) {
    .heading-h1 {
      line-height: 1.1;
    }

    .heading-h2 {
      line-height: 1.15;
    }

    .heading-h3 {
      line-height: 1.25;
    }
  }
}
