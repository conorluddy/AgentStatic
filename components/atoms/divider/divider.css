/* components/atoms/divider/divider.css */

/**
 * Divider Component Styles
 *
 * A flexible visual separator supporting horizontal/vertical orientations,
 * multiple line styles, text/icon decorations, and gradient effects.
 *
 * Component-scoped naming convention (NOT BEM):
 * - Base: .divider
 * - Children: .divider-text, .divider-icon
 * - Variants: .divider-horizontal, .divider-vertical, .divider-solid, etc.
 *
 * Pure CSS only - no preprocessors.
 * Uses design tokens from components/_system/tokens.css
 */

@layer components {
  /* ============================================
     Base Component Styles
     ============================================ */
  .divider {
    /* Component-specific custom properties */
    --divider-color: var(--color-border);
    --divider-thickness: var(--border-width-thin);
    --divider-spacing: var(--spacing-md);
    --divider-style: solid;

    /* Reset */
    border: none;
    margin: 0;
    padding: 0;

    /* Layout */
    display: block;
    width: 100%;
    border-block-start: var(--divider-thickness) var(--divider-style) var(--divider-color);
  }

  /* Horizontal divider (default) */
  .divider-horizontal {
    width: 100%;
    margin-block: var(--divider-spacing);
  }

  /* Vertical divider */
  .divider-vertical {
    width: auto;
    height: 100%;
    min-height: 2rem;
    border-block-start: none;
    border-inline-start: var(--divider-thickness) var(--divider-style) var(--divider-color);
    margin-inline: var(--divider-spacing);
  }

  /* ============================================
     Line Style Variants
     ============================================ */
  .divider-solid {
    --divider-style: solid;
  }

  .divider-dashed {
    --divider-style: dashed;
  }

  .divider-dotted {
    --divider-style: dotted;
  }

  /* ============================================
     Thickness Variants
     ============================================ */
  .divider-thin {
    --divider-thickness: var(--border-width-thin); /* 1px */
  }

  .divider-medium {
    --divider-thickness: var(--border-width-medium); /* 2px */
  }

  .divider-thick {
    --divider-thickness: var(--border-width-thick); /* 4px */
  }

  /* ============================================
     Color Variants
     ============================================ */
  .divider-default {
    --divider-color: var(--color-border);
  }

  .divider-primary {
    --divider-color: var(--color-primary-600);
  }

  .divider-muted {
    --divider-color: var(--color-border-light);
  }

  /* ============================================
     Spacing Variants
     ============================================ */
  .divider-spacing-none {
    --divider-spacing: 0;
  }

  .divider-spacing-sm {
    --divider-spacing: var(--spacing-sm);
  }

  .divider-spacing-md {
    --divider-spacing: var(--spacing-md);
  }

  .divider-spacing-lg {
    --divider-spacing: var(--spacing-lg);
  }

  /* ============================================
     Gradient Variant
     Fade to transparent on edges for subtle effect
     ============================================ */
  .divider-gradient {
    border: none;
    background: linear-gradient(
      to right,
      transparent,
      var(--divider-color) 20%,
      var(--divider-color) 80%,
      transparent
    );
    height: var(--divider-thickness);
    width: 100%;
  }

  .divider-gradient.divider-vertical {
    background: linear-gradient(
      to bottom,
      transparent,
      var(--divider-color) 20%,
      var(--divider-color) 80%,
      transparent
    );
    width: var(--divider-thickness);
    height: 100%;
  }

  /* ============================================
     Text/Icon Decorative Divider
     Container wrapper for dividers with content
     ============================================ */
  .divider-with-content {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    border: none;
    width: 100%;
    margin-block: var(--divider-spacing);
  }

  /* Vertical variant with content */
  .divider-with-content.divider-vertical {
    flex-direction: column;
    width: auto;
    height: 100%;
    margin-block: 0;
    margin-inline: var(--divider-spacing);
  }

  /* Line before text/icon */
  .divider-with-content::before {
    content: '';
    flex: 1;
    border-block-start: var(--divider-thickness) var(--divider-style) var(--divider-color);
  }

  /* Line after text/icon */
  .divider-with-content::after {
    content: '';
    flex: 1;
    border-block-start: var(--divider-thickness) var(--divider-style) var(--divider-color);
  }

  /* Vertical orientation: lines become horizontal */
  .divider-with-content.divider-vertical::before,
  .divider-with-content.divider-vertical::after {
    border-block-start: none;
    border-inline-start: var(--divider-thickness) var(--divider-style) var(--divider-color);
  }

  /* Text/Icon content styling */
  .divider-text {
    flex-shrink: 0;
    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .divider-icon {
    flex-shrink: 0;
    width: 1.25em;
    height: 1.25em;
    color: var(--color-text-muted);
  }

  /* ============================================
     Text Alignment (for with-content variant)
     ============================================ */
  .divider-align-left::before {
    flex: 0;
    width: 2rem;
  }

  .divider-align-center::before,
  .divider-align-center::after {
    flex: 1;
  }

  .divider-align-right::after {
    flex: 0;
    width: 2rem;
  }

  /* ============================================
     Section Divider (thicker for major breaks)
     ============================================ */
  .divider-section {
    --divider-thickness: var(--border-width-thick);
    --divider-spacing: var(--spacing-2xl);
  }

  /* ============================================
     Spacer Divider (invisible, for spacing only)
     ============================================ */
  .divider-spacer {
    border: none;
    background: transparent;
    height: var(--divider-spacing);
    width: 100%;
  }

  .divider-spacer.divider-vertical {
    height: 100%;
    width: var(--divider-spacing);
  }

  /* ============================================
     Dark Mode
     ============================================ */
  @media (prefers-color-scheme: dark) {
    .divider {
      --divider-color: var(--color-border);
    }

    .divider-default {
      --divider-color: var(--color-border);
    }

    .divider-muted {
      --divider-color: var(--color-border-light);
    }

    .divider-text,
    .divider-icon {
      color: var(--color-text-muted);
    }
  }

  /* Manual dark mode override */
  [data-theme="dark"] .divider {
    --divider-color: var(--color-border);
  }

  [data-theme="dark"] .divider-default {
    --divider-color: var(--color-border);
  }

  [data-theme="dark"] .divider-muted {
    --divider-color: var(--color-border-light);
  }

  [data-theme="dark"] .divider-text,
  [data-theme="dark"] .divider-icon {
    color: var(--color-text-muted);
  }

  /* ============================================
     Responsive Design (mobile-first)
     ============================================ */

  /* Tablet (768px+) */
  @media (min-width: 48em) {
    .divider-section {
      --divider-spacing: var(--spacing-3xl);
    }
  }

  /* Desktop (1440px+) */
  @media (min-width: 90em) {
    .divider-section {
      --divider-spacing: var(--spacing-4xl);
    }
  }

  /* ============================================
     Accessibility
     ============================================ */

  /* Ensure adequate contrast for visibility */
  @media (prefers-contrast: high) {
    .divider {
      --divider-color: var(--color-border-strong);
    }

    .divider-muted {
      --divider-color: var(--color-border);
    }
  }
}
