{# components/molecules/COMPONENT_NAME_KEBAB/COMPONENT_NAME_KEBAB.njk #}

{#
  COMPONENT_NAME_PASCAL Component (Molecule)

  Description: [Brief description - molecules combine multiple atoms]

  Props:
    - variant (string): Visual style variant
    - layout (string): Layout variant - 'vertical', 'horizontal'
    - id (string): Unique identifier
    - className (string): Additional CSS classes
    - attributes (object): Additional HTML attributes
    - a11y (object): Accessibility properties
    - [molecule-specific props that combine atoms]

  Usage:
    {% from "molecules/COMPONENT_NAME_KEBAB/COMPONENT_NAME_KEBAB.njk" import COMPONENT_NAME_KEBAB %}
    {{ COMPONENT_NAME_KEBAB({
      variant: 'default',
      header: { title: 'Title', icon: 'star' },
      body: { content: 'Content here' },
      footer: { actions: [...] }
    }) }}
#}

{% macro COMPONENT_NAME_KEBAB(props = {}) %}
  {% set defaults = {
    variant: 'default',
    layout: 'vertical',
    className: '',
    attributes: {},
    a11y: {}
  } %}

  {% set config = defaults | merge(props) %}

  {# Build class list #}
  {% set classList = [
    'COMPONENT_NAME_KEBAB',
    'COMPONENT_NAME_KEBAB-' + config.variant,
    'COMPONENT_NAME_KEBAB-' + config.layout,
    config.className
  ] | join(' ') | trim %}

  {# Main container #}
  <div
    class="{{ classList }}"
    {% if config.id %}id="{{ config.id }}"{% endif %}
    {% if config.a11y.role %}role="{{ config.a11y.role }}"{% endif %}
    {% if config.a11y.ariaLabel %}aria-label="{{ config.a11y.ariaLabel }}"{% endif %}
    {% if config.a11y.ariaDescribedBy %}aria-describedby="{{ config.a11y.ariaDescribedBy }}"{% endif %}
    {% for key, value in config.attributes %}
      {{ key }}="{{ value }}"
    {% endfor %}
  >
    {# Header section (optional) #}
    {% if config.header %}
      <div class="COMPONENT_NAME_KEBAB-header">
        {# Import and use atom components here #}
        {# Example: {{ heading(config.header) }} #}
        {{ config.header | safe }}
      </div>
    {% endif %}

    {# Body section #}
    <div class="COMPONENT_NAME_KEBAB-body">
      {# Main content or composed atoms #}
      {{ config.body | safe if config.body }}
      {{ caller() if caller }}
    </div>

    {# Footer section (optional) #}
    {% if config.footer %}
      <div class="COMPONENT_NAME_KEBAB-footer">
        {# Import and use atom components here #}
        {# Example: {{ button(config.footer.action) }} #}
        {{ config.footer | safe }}
      </div>
    {% endif %}
  </div>
{% endmacro %}
