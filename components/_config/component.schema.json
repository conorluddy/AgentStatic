{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agentstatic.dev/schemas/component.schema.json",
  "title": "AgentStatic Base Component Schema",
  "description": "Base schema that all AgentStatic components extend. Defines common properties and metadata structure.",
  "type": "object",
  "definitions": {
    "componentMetadata": {
      "type": "object",
      "description": "Rich metadata for component discovery and documentation",
      "required": ["displayName", "description", "category"],
      "properties": {
        "displayName": {
          "type": "string",
          "description": "Human-readable component name"
        },
        "description": {
          "type": "string",
          "description": "Detailed description for component discovery and documentation"
        },
        "category": {
          "type": "string",
          "enum": ["atom", "molecule", "organism"],
          "description": "Atomic design category"
        },
        "tags": {
          "type": "array",
          "description": "Searchable tags for component discovery",
          "items": {
            "type": "string"
          }
        },
        "composedOf": {
          "type": "array",
          "description": "List of child components this component uses",
          "items": {
            "type": "string",
            "pattern": "^(atoms|molecules|organisms)/[a-z0-9-]+$"
          }
        },
        "accessibility": {
          "$ref": "#/definitions/accessibilityMetadata"
        },
        "responsive": {
          "$ref": "#/definitions/responsiveMetadata"
        },
        "darkMode": {
          "type": "boolean",
          "description": "Whether component supports dark mode",
          "default": true
        },
        "usageExamples": {
          "type": "array",
          "description": "Example usage snippets",
          "items": {
            "$ref": "#/definitions/usageExample"
          }
        },
        "layoutPatterns": {
          "type": "array",
          "description": "Available layout patterns",
          "items": {
            "type": "string"
          }
        },
        "version": {
          "type": "string",
          "description": "Semantic version of the component",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "deprecated": {
          "type": "boolean",
          "description": "Whether this component is deprecated",
          "default": false
        },
        "replacedBy": {
          "type": "string",
          "description": "Component path that replaces this deprecated component",
          "pattern": "^(atoms|molecules|organisms)/[a-z0-9-]+$"
        }
      }
    },
    "accessibilityMetadata": {
      "type": "object",
      "description": "Accessibility compliance and features",
      "properties": {
        "wcagLevel": {
          "type": "string",
          "enum": ["A", "AA", "AAA"],
          "description": "WCAG compliance level",
          "default": "AA"
        },
        "keyboardNavigable": {
          "type": "boolean",
          "description": "Fully keyboard accessible",
          "default": true
        },
        "screenReaderFriendly": {
          "type": "boolean",
          "description": "Screen reader compatible",
          "default": true
        },
        "contrastCompliant": {
          "type": "boolean",
          "description": "Meets color contrast requirements",
          "default": true
        },
        "ariaRole": {
          "type": "string",
          "description": "Default ARIA role"
        },
        "landmarkRole": {
          "type": "boolean",
          "description": "Whether component can be used as ARIA landmark",
          "default": false
        },
        "focusManagement": {
          "type": "string",
          "description": "Description of focus behavior"
        },
        "keyboardShortcuts": {
          "type": "array",
          "description": "Available keyboard shortcuts",
          "items": {
            "type": "object",
            "properties": {
              "key": {
                "type": "string"
              },
              "action": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "responsiveMetadata": {
      "type": "object",
      "description": "Responsive behavior information",
      "properties": {
        "breakpoints": {
          "type": "array",
          "description": "Supported breakpoints",
          "items": {
            "type": "string",
            "enum": ["mobile", "tablet", "desktop"]
          },
          "default": ["mobile", "tablet", "desktop"]
        },
        "behavior": {
          "type": "string",
          "enum": ["fixed", "fluid", "adaptive", "fully-responsive"],
          "description": "Responsive behavior type",
          "default": "fully-responsive"
        },
        "mobileStackable": {
          "type": "boolean",
          "description": "Whether layout stacks on mobile",
          "default": true
        },
        "containerQueries": {
          "type": "boolean",
          "description": "Uses container queries",
          "default": false
        }
      }
    },
    "usageExample": {
      "type": "object",
      "required": ["title", "code"],
      "properties": {
        "title": {
          "type": "string",
          "description": "Example title"
        },
        "description": {
          "type": "string",
          "description": "Example description"
        },
        "code": {
          "type": "string",
          "description": "Nunjucks code snippet"
        }
      }
    },
    "baseProps": {
      "type": "object",
      "description": "Base properties available to all components",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the component instance"
        },
        "className": {
          "type": "string",
          "description": "Additional CSS classes to apply"
        },
        "attributes": {
          "type": "object",
          "description": "Additional HTML attributes",
          "additionalProperties": {
            "type": "string"
          }
        },
        "a11y": {
          "$ref": "#/definitions/a11yProps"
        }
      }
    },
    "a11yProps": {
      "type": "object",
      "description": "Accessibility properties for runtime configuration",
      "properties": {
        "ariaLabel": {
          "type": "string",
          "description": "Accessible label for screen readers"
        },
        "ariaLabelledBy": {
          "type": "string",
          "description": "ID of element that labels this component"
        },
        "ariaDescribedBy": {
          "type": "string",
          "description": "ID of element that describes this component"
        },
        "role": {
          "type": "string",
          "description": "ARIA role override"
        },
        "ariaHidden": {
          "type": "boolean",
          "description": "Hide from screen readers"
        },
        "ariaLive": {
          "type": "string",
          "enum": ["off", "polite", "assertive"],
          "description": "ARIA live region behavior"
        },
        "tabIndex": {
          "type": "number",
          "description": "Tab order index"
        }
      }
    }
  },
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "$id": {
      "type": "string",
      "description": "Schema identifier (component path)"
    },
    "title": {
      "type": "string",
      "description": "Component title (PascalCase name)"
    },
    "type": {
      "type": "string",
      "const": "object",
      "description": "Schema type (always object for components)"
    },
    "description": {
      "type": "string",
      "description": "Brief component description"
    },
    "category": {
      "type": "string",
      "enum": ["atom", "molecule", "organism"],
      "description": "Component category"
    },
    "metadata": {
      "$ref": "#/definitions/componentMetadata"
    },
    "properties": {
      "type": "object",
      "description": "Component properties (extends baseProps)"
    },
    "required": {
      "type": "array",
      "description": "Required property names",
      "items": {
        "type": "string"
      }
    },
    "additionalProperties": {
      "type": "boolean",
      "description": "Whether additional properties are allowed",
      "default": false
    }
  },
  "required": ["$schema", "$id", "title", "type", "category", "metadata", "properties"]
}
