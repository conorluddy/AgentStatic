/**
 * BASE STYLES
 *
 * Purpose: Defines default styles for HTML elements using design tokens.
 * These styles provide a solid foundation for all components.
 *
 * Philosophy:
 * - Use design tokens for all values (no hardcoded values)
 * - Mobile-first approach (base styles are for mobile, use media queries for larger screens)
 * - Semantic HTML defaults (headings, paragraphs, lists, etc.)
 * - Accessibility-first (proper focus states, color contrast, etc.)
 *
 * Dependencies:
 * - tokens.css (design tokens must be loaded before this file)
 * - layers.css (cascade layers must be defined)
 *
 * Note: This file assumes tokens from Issue #54 exist. If tokens are not yet
 * implemented, this file will use fallback values.
 */

@layer base {
  /**
   * Root Element
   * Sets default font, color, and background for entire document
   */
  :root {
    font-family: var(--font-sans, system-ui, -apple-system, sans-serif);
    font-size: var(--font-size-base, 1rem);
    line-height: var(--line-height-normal, 1.5);
    color: var(--color-text, #212529);
    background-color: var(--color-background, #f8f9fa);
  }

  body {
    /* Use logical properties for better international support */
    padding-inline: var(--spacing-md, 1rem);
    padding-block: var(--spacing-lg, 1.5rem);
  }

  /**
   * Typography Hierarchy
   * Establishes clear visual hierarchy with responsive font sizes
   */

  /* Heading 1 - Page title */
  h1 {
    font-size: var(--font-size-3xl, 1.875rem);
    font-weight: var(--font-weight-bold, 700);
    line-height: var(--line-height-tight, 1.25);
    margin-block-end: var(--spacing-lg, 1.5rem);
  }

  /* Heading 2 - Major sections */
  h2 {
    font-size: var(--font-size-2xl, 1.5rem);
    font-weight: var(--font-weight-semibold, 600);
    line-height: var(--line-height-tight, 1.25);
    margin-block-end: var(--spacing-md, 1rem);
  }

  /* Heading 3 - Subsections */
  h3 {
    font-size: var(--font-size-xl, 1.25rem);
    font-weight: var(--font-weight-semibold, 600);
    line-height: var(--line-height-snug, 1.375);
    margin-block-end: var(--spacing-md, 1rem);
  }

  /* Heading 4 - Minor headings */
  h4 {
    font-size: var(--font-size-lg, 1.125rem);
    font-weight: var(--font-weight-medium, 500);
    line-height: var(--line-height-snug, 1.375);
    margin-block-end: var(--spacing-sm, 0.5rem);
  }

  /* Heading 5 & 6 - Smallest headings */
  h5,
  h6 {
    font-size: var(--font-size-base, 1rem);
    font-weight: var(--font-weight-medium, 500);
    line-height: var(--line-height-normal, 1.5);
    margin-block-end: var(--spacing-sm, 0.5rem);
  }

  /**
   * Responsive Typography
   * Scale up heading sizes on larger screens
   */
  @media (min-width: 768px) {
    h1 {
      font-size: var(--font-size-5xl, 3rem);
    }

    h2 {
      font-size: var(--font-size-4xl, 2.25rem);
    }

    h3 {
      font-size: var(--font-size-2xl, 1.5rem);
    }
  }

  @media (min-width: 1440px) {
    h1 {
      font-size: var(--font-size-6xl, 3.75rem);
    }

    h2 {
      font-size: var(--font-size-5xl, 3rem);
    }

    h3 {
      font-size: var(--font-size-3xl, 1.875rem);
    }
  }

  /**
   * Paragraphs and Text
   */
  p {
    margin-block-end: var(--spacing-md, 1rem);
    max-inline-size: 70ch; /* Optimal reading line length */
  }

  /* Lead paragraph - larger text for introductions */
  .lead {
    font-size: var(--font-size-lg, 1.125rem);
    line-height: var(--line-height-relaxed, 1.625);
    color: var(--color-text-muted, #6c757d);
  }

  /* Small text */
  small {
    font-size: var(--font-size-sm, 0.875rem);
  }

  /**
   * Links
   * Accessible link styles with clear hover/focus states
   */
  a {
    color: var(--color-primary-600, #0066cc);
    text-decoration: underline;
    text-decoration-color: transparent;
    text-underline-offset: 0.2em;
    transition: text-decoration-color var(--transition-fast, 150ms);
  }

  a:hover {
    text-decoration-color: currentColor;
  }

  a:focus-visible {
    outline: 2px solid var(--color-primary-500, #0066cc);
    outline-offset: 2px;
    border-radius: var(--radius-sm, 0.25rem);
  }

  /**
   * Lists
   * Restore list styles with proper spacing
   */
  ul:not([class]),
  ol:not([class]) {
    padding-inline-start: var(--spacing-xl, 2rem);
    margin-block-end: var(--spacing-md, 1rem);
  }

  ul:not([class]) {
    list-style: disc;
  }

  ol:not([class]) {
    list-style: decimal;
  }

  li:not([class]) {
    margin-block-end: var(--spacing-sm, 0.5rem);
  }

  /**
   * Code and Preformatted Text
   */
  code {
    font-family: var(--font-mono, 'SF Mono', monospace);
    font-size: 0.9em;
    padding: 0.125em 0.25em;
    background-color: var(--color-gray-100, #f1f3f5);
    border-radius: var(--radius-sm, 0.25rem);
  }

  pre {
    font-family: var(--font-mono, 'SF Mono', monospace);
    font-size: var(--font-size-sm, 0.875rem);
    padding: var(--spacing-md, 1rem);
    background-color: var(--color-gray-100, #f1f3f5);
    border-radius: var(--radius-md, 0.375rem);
    overflow-x: auto;
    margin-block-end: var(--spacing-md, 1rem);
  }

  pre code {
    padding: 0;
    background: none;
  }

  /**
   * Blockquotes
   */
  blockquote {
    padding-inline-start: var(--spacing-lg, 1.5rem);
    border-inline-start: 4px solid var(--color-primary-500, #0066cc);
    margin-block-end: var(--spacing-md, 1rem);
    font-style: italic;
    color: var(--color-text-muted, #6c757d);
  }

  /**
   * Horizontal Rules
   */
  hr {
    border: none;
    border-block-start: 1px solid var(--color-gray-300, #dee2e6);
    margin-block: var(--spacing-xl, 2rem);
  }

  /**
   * Form Elements
   * Basic form styling for better UX
   */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  textarea,
  select {
    display: block;
    inline-size: 100%;
    padding: var(--spacing-sm, 0.5rem) var(--spacing-md, 1rem);
    font-size: var(--font-size-base, 1rem);
    line-height: var(--line-height-normal, 1.5);
    color: var(--color-text, #212529);
    background-color: var(--color-surface, #ffffff);
    border: 1px solid var(--color-gray-300, #dee2e6);
    border-radius: var(--radius-md, 0.375rem);
    transition: border-color var(--transition-fast, 150ms);
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: 2px solid var(--color-primary-500, #0066cc);
    outline-offset: 2px;
    border-color: var(--color-primary-500, #0066cc);
  }

  textarea {
    resize: vertical;
    min-block-size: 8em;
  }

  /**
   * Labels
   */
  label {
    display: block;
    font-weight: var(--font-weight-medium, 500);
    margin-block-end: var(--spacing-xs, 0.25rem);
  }

  /**
   * Buttons
   * Minimal base styles (components will override)
   */
  button {
    font-weight: var(--font-weight-medium, 500);
    line-height: var(--line-height-normal, 1.5);
    border-radius: var(--radius-md, 0.375rem);
    transition: all var(--transition-fast, 150ms);
  }

  button:focus-visible {
    outline: 2px solid var(--color-primary-500, #0066cc);
    outline-offset: 2px;
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /**
   * Tables
   * Clean table styles for better readability
   */
  table {
    inline-size: 100%;
    margin-block-end: var(--spacing-md, 1rem);
    font-size: var(--font-size-sm, 0.875rem);
  }

  th,
  td {
    padding: var(--spacing-sm, 0.5rem) var(--spacing-md, 1rem);
    text-align: start;
    border-block-end: 1px solid var(--color-gray-300, #dee2e6);
  }

  th {
    font-weight: var(--font-weight-semibold, 600);
    background-color: var(--color-gray-50, #f8f9fa);
  }

  /**
   * Accessibility Utilities
   * Screen reader only content
   */
  .sr-only {
    position: absolute;
    inline-size: 1px;
    block-size: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}
